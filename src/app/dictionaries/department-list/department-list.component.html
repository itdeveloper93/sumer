<div class="container-fluid">
    <h1 class="mb-4">{{ title }}</h1>

    <div class="row">
        <div class="col-12 col-lg-7 col-xl-9">
            <mat-card class="p-0 table-responsive mb-3">
                <loading-indicator *ngIf="isRequesting"></loading-indicator>
                <table mat-table [dataSource]="department" class="stripped">

                    <ng-container matColumnDef="name">
                        <th mat-header-cell *matHeaderCellDef>Название</th>
                        <td
                            mat-cell
                            *matCellDef="let department"
                        >
                            {{ department.name }}
                        </td>
                    </ng-container>

                    <ng-container matColumnDef="lastEdit">
                        <th mat-header-cell *matHeaderCellDef>Последние редактирование</th>
                        <td
                            mat-cell
                            *matCellDef="let department"
                            [routerLink]="['']"
                        >
                        </td>
                    </ng-container>
                    <ng-container matColumnDef="author">
                        <th mat-header-cell *matHeaderCellDef>Автор</th>
                        <td
                            mat-cell
                            *matCellDef="let department"
                            [routerLink]="['']"
                        >
                        </td>
                    </ng-container>

                    <ng-container matColumnDef="actions">
                        <th mat-header-cell *matHeaderCellDef class="text-right">Действия</th>
                        <td mat-cell *matCellDef="let department" class="text-right">
                            <button
                                mat-mini-fab
                                class="mat-fab-basic mr-3"
                                matTooltip="История"
                                matTooltipPosition="above"
                            >
                                <mat-icon>history</mat-icon>
                            </button>
                            <button
                                mat-mini-fab
                                class="mat-fab-basic"
                                matTooltip="Редактировать данные"
                                matTooltipPosition="above"
                                (click)="openDialogUpdate(department.id, department.name)"
                            >
                                <mat-icon>edit</mat-icon>
                            </button>
                        </td>
                    </ng-container>

                    <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></tr>
                    <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
                </table>
            </mat-card>
        </div>
        <div class="col-12 col-lg-5 col-xl-3">
            <button mat-flat-button mat-button type="button" class="btn-lg btn-block m-0" [routerLink]="['/dictionaries']"
            >
                <mat-icon class="mat-18">arrow_back_ios</mat-icon>Назад к списку</button
            >
        </div>
    </div>
</div>
<floating-fab
    (click)="openDialogUpdate()"
    link="./"
    title="Добавить запись"
    icon="add"
></floating-fab>
