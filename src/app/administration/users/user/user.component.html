<div class="position-relative">
    <mat-accordion>
        <mat-expansion-panel>
            <mat-expansion-panel-header>
                <mat-panel-title>Блокировка пользователя</mat-panel-title>
            </mat-expansion-panel-header>
            <alert
                message="Внимание! После блокировки пользователь потеряет доступ к системе."
                type="danger"
                *ngIf="!user?.isLocked"
            ></alert>
            <lock-form horisontal="true" entityType="user" id="{{ id }}"></lock-form>
        </mat-expansion-panel>

        <mat-expansion-panel [disabled]="isRequesting">
            <mat-expansion-panel-header>
                <mat-panel-title>Права доступа к функционалу</mat-panel-title>
            </mat-expansion-panel-header>
            <functionality-access-permissions
                id="{{ id }}"
                (isRequestingFunctionalityAccessPermissions)="isRequesting = $event"
            ></functionality-access-permissions>
        </mat-expansion-panel>

        <mat-expansion-panel>
            <mat-expansion-panel-header>
                <mat-panel-title>Права доступа к данным</mat-panel-title>
            </mat-expansion-panel-header>
            Ничего нет
        </mat-expansion-panel>

        <mat-expansion-panel>
            <mat-expansion-panel-header>
                <mat-panel-title>Сброс пароля</mat-panel-title>
            </mat-expansion-panel-header>
            <button mat-flat-button color="primary" (click)="resetPassword()" [disabled]="isRequesting">
                <mat-icon>refresh</mat-icon> Сбросить пароль
            </button>
        </mat-expansion-panel>

        <mat-expansion-panel>
            <mat-expansion-panel-header>
                <mat-panel-title>Активность пользователя</mat-panel-title>
            </mat-expansion-panel-header>
            Ничего нет
        </mat-expansion-panel>
    </mat-accordion>
</div>
